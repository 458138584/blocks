#!/usr/bin/env python 

import logging
import argparse


if __name__ == "__main__":
    logging.basicConfig()

    parser = argparse.ArgumentParser()
    parser.add_argument("--list", "-l", action="store_true", 
        help="List all channels contained in the experiments and exit")
    parser.add_argument("--channels", "-c", type=str, 
        help="A comma separated list of channels to plot. " + \
             "The wildcards '*' and '?' can be used to select multiple " + \
             "channels at once. Prefix a channel name with <num>: to " + \
             "refer to a channel of a particular experiment")
    #parser.add_argument("--xaxis", "-x", choices=['iterations', 'epochs', 'time'],
    #    default='iterations', help="Label/scale to use on the x-axis of the plot")
    parser.add_argument("--ipython", action="store_true", 
        help="Drop into an IPython session after the channels have been loaded")
    parser.add_argument("experiments", type=str, nargs="+")
    args = parser.parse_args()

    from blocks.scripts.plot import plot

    plot(
        exp_fnames=args.experiments,
        channel_specs=args.channels,
        list_only=args.list,
        ipython=args.ipython
    )

